{"version":3,"sources":["services/auth.service.js","components/Login.js","components/Signup.js","services/auth-header.js","services/note.service.js","components/Note.js","components/AddNote.js","components/NotesList.js","components/Search.js","components/Header.js","components/Notes.js","App.js","index.js"],"names":["API_URL","authService","signup","email","password","axios","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","login","access_token","logout","removeItem","getCurrentUser","parse","getItem","Login","useState","setEmail","setPassword","navigate","useNavigate","handleLogin","e","a","preventDefault","AuthService","window","location","reload","error","console","log","onSubmit","type","placeholder","value","onChange","target","Signup","handleSignup","setTimeout","authHeader","user","Authorization","noteService","getNotes","get","headers","deleteNote","id","delete","toString","createNote","body","Note","title","date","handleDeleteNote","className","onClick","size","AddNote","handleAddNote","setbody","settitle","rows","cols","event","length","trim","NotesList","notes","map","note","created_at","Search","handleSearchNote","Header","handleToggleDarkMode","previousDarkMode","Home","setNotes","searchText","setSearchText","darkMode","setDarkMode","useEffect","savedNotes","PostService","status","filter","toLowerCase","includes","text","Date","newNote","nanoid","toLocaleDateString","newNotes","App","undefined","currentUser","setCurrentUser","to","href","path","element","Notes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31942875.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"https://nestjs-notes-app.herokuapp.com/auth\";\r\n\r\nconst signup = (email, password) => {\r\n  return axios\r\n    .post(API_URL + \"/signup\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n      if (response.data.accessToken) {\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n      }\r\n\r\n      return response.data;\r\n    });\r\n};\r\n\r\nconst login = (email, password) => {\r\n  return axios\r\n    .post(API_URL + \"/login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n      if (response.data.access_token) {\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n      }\r\n      return response.data;\r\n    });\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n};\r\n\r\nconst getCurrentUser = () => {\r\n  return JSON.parse(localStorage.getItem(\"user\"));\r\n};\r\n\r\nconst authService = {\r\n  signup,\r\n  login,\r\n  logout,\r\n  getCurrentUser,\r\n};\r\n\r\nexport default authService;\r\n","import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await AuthService.login(email, password).then(\r\n        () => {\r\n          navigate(\"/notes\");\r\n          window.location.reload();\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleLogin}>\r\n        <h3>Login</h3>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Log in</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Signup = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if(localStorage.getItem(\"user\")){\r\n      localStorage.removeItem(\"user\");}\r\n      await AuthService.signup(email, password).then(\r\n        () => {\r\n          // check for token and user already exists with 200\r\n          //   console.log(\"Sign up successfully\", response);\r\n          \r\n          \r\n          AuthService.login(email, password);\r\n          setTimeout(2)\r\n          navigate(\"/notes\")\r\n          window.location.reload();\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSignup}>\r\n        <h3>Sign up</h3>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Sign up</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  if (user && user.access_token) {\r\n     return { Authorization: 'Bearer ' + user.access_token, 'Content-Length': 'application/json'};\r\n    //return { \"x-auth-token\": user.accessToken };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\n\r\nconst API_URL = \"https://nestjs-notes-app.herokuapp.com\";\r\n\r\nconst getNotes = () => {\r\n  return axios.get(API_URL + \"/note\", { headers: authHeader() });\r\n};\r\n\r\nconst deleteNote = (id) => {\r\n  return axios.delete(API_URL + \"/note/delete/\"+id.toString(), { headers: authHeader() });\r\n};\r\n\r\nconst createNote = (body) => {\r\n  const data = JSON.stringify(body)\r\n  console.log(body)\r\n  return axios.post(API_URL + \"/note/create\", { headers: authHeader() }, data);\r\n};\r\n\r\nconst noteService = {\r\n  getNotes,\r\n  deleteNote,\r\n  createNote,\r\n};\r\n\r\nexport default noteService;\r\n","import { MdDeleteForever } from 'react-icons/md';\n\nconst Note = ({ id,title,body, date, handleDeleteNote }) => {\n\treturn (\n\t\t<div className='note'>\n\t\t\t<span>{title}</span>\n\t\t\t<textarea>{body}</textarea>\n\t\t\t<div className='note-footer'>\n\t\t\t\t<small>{date}</small>\n\t\t\t\t<MdDeleteForever\n\t\t\t\t\tonClick={() => handleDeleteNote(id)}\n\t\t\t\t\tclassName='delete-icon'\n\t\t\t\t\tsize='1.3em'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Note;\n","import { useState } from 'react';\n\nconst AddNote = ({ handleAddNote }) => {\n\tconst [body, setbody] = useState('');\n\tconst [title, settitle] = useState('');\n\tconst characterLimit = 200;\n\tconst titleCharacterLimit = 40;\n\n\tconst handleChangeText = (event) => {\n\t\tif (characterLimit - event.target.value.length >= 0) {\n\t\t\tsetbody(event.target.value);\n\t\t}\n\t};\n\n\tconst handleChangeTitle = (event) => {\n\t\tif (titleCharacterLimit - event.target.value.length >= 0) {\n\t\t\tsettitle(event.target.value);\n\t\t}\n\t};\n\n\t\n\t\n\n\tconst handleSaveClick = () => {\n\t\tif (body.trim().length > 0) {\n\t\t\thandleAddNote(body, title);\n\t\t\tsetbody('');\n\t\t\tsettitle('');\n\t\t}\n\n\t};\n\n\treturn (\n\t\t<div className='note new'>\n\t\t\t<textarea\n\t\t\t\trows='2'\n\t\t\t\tcols='10'\n\t\t\t\tplaceholder='Title'\n\t\t\t\tvalue={title}\n\t\t\t\tonChange={handleChangeTitle}\n\t\t\t></textarea>\n\t\t\t<textarea\n\t\t\t\trows='8'\n\t\t\t\tcols='10'\n\t\t\t\tplaceholder='Type to add a note...'\n\t\t\t\tvalue={body}\n\t\t\t\tonChange={handleChangeText}\n\t\t\t></textarea>\n\t\t\t<div className='note-footer'>\n\t\t\t\t<small>\n\t\t\t\t\t{characterLimit - body.length} Remaining\n\t\t\t\t</small>\n\t\t\t\t<button className='save' onClick={handleSaveClick}>\n\t\t\t\t\tSave\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AddNote;\n","import Note from './Note';\nimport AddNote from './AddNote';\n\nconst NotesList = ({\n\tnotes,\n\thandleAddNote,\n\thandleDeleteNote,\n}) => {\n\treturn (\n\t\t<div className='notes-list'>\n\t\t\t{notes.map((note) => (\n\t\t\t\t<Note\n\t\t\t\t\tid={note.id}\n\t\t\t\t\ttitle={note.title}\n\t\t\t\t\tbody={note.body}\n\t\t\t\t\tdate={note.created_at}\n\t\t\t\t\thandleDeleteNote={handleDeleteNote}\n\t\t\t\t/>\n\t\t\t))}\n\t\t\t<AddNote handleAddNote={handleAddNote} />\n\t\t</div>\n\t);\n};\n\nexport default NotesList;\n","import React from 'react';\nimport { MdSearch } from 'react-icons/md';\n\nconst Search = ({ handleSearchNote }) => {\n\treturn (\n\t\t<div className='search'>\n\t\t\t<MdSearch className='search-icons' size='1.3em' />\n\t\t\t<input\n\t\t\t\tonChange={(event) =>\n\t\t\t\t\thandleSearchNote(event.target.value)\n\t\t\t\t}\n\t\t\t\ttype='text'\n\t\t\t\tplaceholder='type to search...'\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import React from 'react';\n\nconst Header = ({ handleToggleDarkMode }) => {\n\treturn (\n\t\t<div className='header'>\n\t\t\t<h1>Notes</h1>\n\t\t\t<button\n\t\t\t\tonClick={() =>\n\t\t\t\t\thandleToggleDarkMode(\n\t\t\t\t\t\t(previousDarkMode) => !previousDarkMode\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tclassName='save'\n\t\t\t>\n\t\t\t\tToggle Mode\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default Header;\n","import React, { useState, useEffect } from \"react\";\r\nimport PostService from \"../services/note.service\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport NotesList from './NotesList';\r\nimport Search from './Search';\r\nimport Header from './Header';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst Home = () => {\r\n  const [notes, setNotes] = useState([]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [searchText, setSearchText] = useState('');\r\n\r\n\tconst [darkMode, setDarkMode] = useState(false);\r\n  \r\n  useEffect(() => {\r\n\t\tconst savedNotes = JSON.parse(\r\n\t\t\tlocalStorage.getItem('react-notes-app-data')\r\n\t\t);\r\n\r\n\t\tif (savedNotes) {\r\n\t\t\tsetNotes(savedNotes);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'react-notes-app-data',\r\n\t\t\tJSON.stringify(notes)\r\n\t\t);\r\n\t}, [notes]);\r\n\r\n\tconst addNote = (text, title) => {\r\n\t\tconst date = new Date();\r\n\t\tconst body = {\r\n\t\t\t'title': title,\r\n\t\t\t'body': text,\r\n\t\t\t'tags': []\r\n\t\t}\r\n\t\tPostService.createNote(body)\r\n\t\tconst newNote = {\r\n\t\t\tid: nanoid(),\r\n\t\t\ttitle: title,\r\n\t\t\tbody: text,\r\n\t\t\tdate: date.toLocaleDateString(),\r\n\t\t};\r\n\t\tconst newNotes = [...notes, newNote];\r\n\t\tsetNotes(newNotes);\r\n\t};\r\n\r\n\tconst deleteNote = (id) => {\r\n\t\tPostService.deleteNote(id)\r\n\t\tconst newNotes = notes.filter((note) => note.id !== id);\r\n\t\tsetNotes(newNotes);\r\n\t};\r\n\r\n  useEffect(() => {\r\n    PostService.getNotes().then(\r\n      (response) => {\r\n        setNotes(response.data);\r\n      },\r\n      (error) => {\r\n        console.log(\"Private page\", error.response);\r\n        // Invalid token\r\n        if (error.response && error.response.status === 403) {\r\n          AuthService.logout();\r\n          navigate(\"/login\");\r\n          window.location.reload();\r\n        }\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n   \r\n     // <h3>{privatePosts.map((post) => post.content)}</h3>\r\n    \r\n     <div className={`${darkMode && 'dark-mode'}`}>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<Header handleToggleDarkMode={setDarkMode} />\r\n\t\t\t\t<Search handleSearchNote={setSearchText} />\r\n\t\t\t\t<NotesList\r\n\t\t\t\t\tnotes={notes.filter((note) =>\r\n\t\t\t\t\t\tnote.body.toLowerCase().includes(searchText)\r\n\t\t\t\t\t)}\r\n\t\t\t\t\thandleAddNote={addNote}\r\n\t\t\t\t\thandleDeleteNote={deleteNote}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState, useEffect } from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport AuthService from \"./services/auth.service\";\nimport Login from \"./components/Login\";\nimport Signup from \"./components/Signup\";\n\nimport Notes from \"./components/Notes\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n  useEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n    }\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n  };\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n        <div className=\"navbar-nav mr-auto\">\n          {currentUser && (\n            <li className=\"nav-item\">\n              <Link to={\"/notes\"} className=\"nav-link\">\n                Notes\n              </Link>\n            </li>\n          )}\n        </div>\n\n        {currentUser ? (\n          <div className=\"navbar-nav ms-auto\">\n            <li className=\"nav-item\">\n              <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                Logout\n              </a>\n            </li>\n          </div>\n        ) : (\n          <div className=\"navbar-nav ms-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/login\"} className=\"nav-link\">\n                Login\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link to={\"/signup\"} className=\"nav-link\">\n                Sign up\n              </Link>\n            </li>\n          </div>\n        )}\n      </nav>\n\n      <div className=\"container mt-3\">\n        <Routes>\n          <Route path=\"/notes\" element={<Notes />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/signup\" element={<Signup />} />\n        </Routes>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}